if [ -f "$PWD/requirements.txt" ]; then

    #
    # on 12 mar installed Apple's Command Line Tools (OS X Mavericks)
    # for Xcode - March 2014 and attempted to source bin/cfg4dev - this
    # failed with following error:
    #
    #   clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]
    #
    # initial solution is described in
    # http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-psycopg2-installation-failure
    # which says to set the CFLAGS & CPPFLAGS environment variables
    # as is done below
    #
    if [ "$(uname -s)" == "Darwin" ]; then
        export CFLAGS=-Qunused-arguments
        export CPPFLAGS=-Qunused-arguments
    fi

	if [ -d "$PWD/env" ]; then
		source "$PWD/env/bin/activate"
	else
		virtualenv env
		source "$PWD/env/bin/activate"
		pip install --requirement "$PWD/requirements.txt"
	fi
	export PATH=$PATH:"$PWD/bin"
	export PYTHONPATH="$PWD"
else
	echo "Must source this script from project's root directory"
fi
